<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>To Do List</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>

<body>
  <% var colorArr = ["#fff", "#f1bc31", "#e25822", "#b22222", "#7c0a02"] %>
  <% var textArr = ["rgb(153, 153, 153)", "rgb(255, 255, 255)", "rgb(255, 255, 255)", "rgb(255, 255, 255)", "rgb(255, 255, 255)"] %>



  <section class="dayEntry">
    <div class="heading">
      <h1><%=today%></h1>

        <button type="button" class="mybutton" data-toggle="modal" data-target="#exampleModal" data-whatever= <%=dateArr[0]%> > <i class="material-icons" style="font-size:24px; color:#fff;">add</i> </button>


    </div>
    <div class="container">
      <% todayItems.forEach(function(item){ %>
        <% var colorIndex = Math.min(4, item.procrastination) %>
        <% colorIndex = Math.max(0, colorIndex) %>
        <% var color = colorArr[colorIndex] %>
        <% var textColor = textArr[colorIndex] %>

        <div class="list-item">
          <div class="item-content" id="<%=item._id%>" style ="background-color:<%=color%>; color:<%=textColor%>;">
            <h2 style="display:none"><%=item.procrastination%></h2>
            <input type="checkbox">
            <p>
              <%=item.name%>
            </p>
            <button type="button" class="mybutton" onclick="deleteItem(this)" > <i class="material-icons" style="font-size:24px; ">clear</i> </button>
          </div>
        </div>
      <% }) %>
  </section>

  <section class="dayEntry">
    <div class="heading">
      <h1><%=tomorrow%></h1>
      <button type="button" class="mybutton" data-toggle="modal" data-target="#exampleModal" data-whatever=<%=dateArr[1]%>> <i class="material-icons" style="font-size:24px; color:#fff;">add</i> </button>
    </div>
    <div class="container">
      <% tomorrowItems.forEach(function(item){ %>
        <% var colorIndex = Math.min(4, item.procrastination) %>
        <% colorIndex = Math.max(0, colorIndex) %>
        <% var color = colorArr[colorIndex] %>
        <% var textColor = textArr[colorIndex] %>
        <div class="list-item">
          <div class="item-content" id="<%=item._id%>" style ="background-color:<%=color%>; color:<%=textColor%>;">
            <h2 style="display:none"><%=item.procrastination%></h2>
            <input type="checkbox">
            <p>
              <%=item.name%>
            </p>
            <button type="button" class="mybutton" onclick="deleteItem(this)"> <i class="material-icons" style="font-size:24px; ">clear</i> </button>
          </div>
        </div>
      <% }) %>
    </div>
  </section>

  <section class="dayEntry">
    <div class="heading">
      <h1>Future</h1>
      <button type="button" class="mybutton" data-toggle="modal" data-target="#exampleModal" data-whatever=<%=dateArr[2]%>> <i class="material-icons" style="font-size:24px; color:#fff;">add</i> </button>
    </div>
    <div class="container">
      <% futureItems.forEach(function(item){ %>
        <% var colorIndex = Math.min(4, item.procrastination) %>
        <% colorIndex = Math.max(0, colorIndex) %>
        <% var color = colorArr[colorIndex] %>
        <% var textColor = textArr[colorIndex] %>
        <div class="list-item">
          <div class="item-content" id="<%=item._id%>" style ="background-color:<%=color%>; color:<%=textColor%>;">
            <h2 style="display:none"><%=item.procrastination%></h2>
            <input type="checkbox">
            <p>
              <%=item.name%>
            </p>
            <button type="button" class="mybutton" onclick="deleteItem(this)"> <i class="material-icons" style="font-size:24px; ">clear</i> </button>
          </div>
        </div>
      <% }) %>
    </div>
  </section>

  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add New Task</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form autocomplete="off">
            <div class="form-group">
              <label for="date-text" class="col-form-label">Date:</label>
              <input type="text" class="form-control" id="date-text" autocomplete="off">
            </div>
            <div class="form-group">
              <label for="todo-text" class="col-form-label">TODO:</label>
              <input type="text" class="form-control" id="todo-text" autocomplete="off">
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="addTodo"  data-dismiss="modal" >Save</button>
        </div>
      </div>
    </div>
  </div>

</body>
<footer>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/utils/Draggable.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="sortableList.js"></script>
  <script src="modal.js"></script>

</footer>

</html>
